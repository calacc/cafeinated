{% extends 'shop-owner/base.html' %}

{% block head %}
<title>Coffee shops</title>
{% endblock %}

{% block body %}


<div class="content">
    
    <div class="label"><div class="text-wrapper">Cafenele</div></div>
    
    <div style="display: flex; flex-direction: row;padding:20px;">
        
        <div style="width:20%;"> <!-- butoane bro-->
            <a href="/my-shops"><button style="height:30px">all shops</button><br></a>
            {% for shop_name, shop_data in shops.items() %}
            {% set good_name = acceptable_shop_name(shop_data['name']) %}
            <a href="/{{good_name}}"><button style="height:30px">{{shop_data['name']}}</button><br></a>
            {%endfor%}
        </div>  


    <div style="display:flex">
        
    
    
    <div>
    <div class = "details">
        {{ this_shop_data.name }}<br>
    </div>
    <p class = "address">{{ this_shop_data.address }}<br>
        Phone number: {{ this_shop_data.phone_nr }}</p>
    <!-- <div style="position:absolute;top:0;right:0;margin:20px;">
        {{ generate_map_embed_code(this_shop_data.name + ' ' + this_shop_data.address + ' Timisoara') | safe }}
    </div> -->
    
    <p class = "menu">Meniu</p>
    <p class = "coffees">Coffees:</p>
    <ul class = "items" style="margin-left:50px; list-style: none;">

        {% for menu_item in this_shop_data.menu %}
            {% if menu_item['type']=='coffee' %}
            <li style="display:flex; flex-direction: row;">
                <div style="font-size:18px;">
                    {% if menu_item.date_added==todays_date %}
                    ★ New ★&nbsp;
                    {%endif%}
                </div>
                <div>{{ menu_item.name }} ...................... ${{ menu_item.price }}</div>
            </li>
            {% endif %}
        {% endfor %}
    </ul>

    <p class = "desserts">Desserts:</p>
    <ul class = "items" style="margin-left:50px; list-style: none;">
        {% for menu_item in this_shop_data.menu %}
            {% if menu_item['type']=='desert' %}
            <li style="display:flex; flex-direction: row;">
                <div style="font-size:18px;">
                    {% if menu_item.date_added==todays_date %}
                    ★ New ★&nbsp;
                    {%endif%}
                </div>
                <div>{{ menu_item.name }} ...................... ${{ menu_item.price }}</div>
            </li>
            {% endif %}
        {% endfor %}
    </ul>

    </div> 

    <div style="margin-left:50px">

    <h2>Coffee shop editing area</h2>
    {% set good_name = acceptable_shop_name(this_shop_data['name']) %}
    <a href="/edit-shop/{{good_name}}"><button>Edit shop details</button></a><br>
    <a href="/edit-menu/{{good_name}}"><button>Edit menu items</button></a>


    </div>                 
                
            
            
    </div>

    </div>

</div>


{% endblock %}